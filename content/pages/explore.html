<html>
<head>
  <title>Explore</title>
  <meta name="save_as" content="explore.html" />
  <meta name="url" content="explore.html" />
</head>
<body>
  <h2>Hairy Brain</h2>
  <p>Diffusion-weighted imaging (DWI) is a technique that can be used to
     visualize neural tracts or <strong>nerve fibre bundles</strong> by
     measuring the direction of water diffusion in brain tissue. The example
     figure below shows a so-called <strong>connectome</strong> — the structure
     of nerve fibre pathways in the brain — estimated from the DWI data of a
     single individual. The red horizontal lines in the center of the image
     show the <a href="http://en.wikipedia.org/wiki/Corpus_callosum">corpus callosum</a>,
     the bridge between the two brain halves. The blue vertical lines in the
     lower center of the image show the <a href="http://en.wikipedia.org/wiki/Pyramidal_tracts">corticospinal tract</a>,
     where the brain is connected with the nervous system in other parts of the
     body. The provided scans have been made with a standard clinical procedure
     at 2 mm spatial resolution. For more more information on this image type,
     see <a href="http://en.wikipedia.org/wiki/Diffusion_tensor_imaging">Wikipedia</a>.
     The complete description of this acquisition has been published in:</p>

  <blockquote>
  Hanke et al. (2014). <a href="http://www.nature.com/articles/sdata20143">A
  high-resolution 7-Tesla fMRI dataset from complex natural stimulation with an audio movie</a>.
  Scientific Data, 1.
  </blockquote>

  <p>Click on the image to load an interactive viewer to study the complex
     three-dimensional structure of the connectome.</p>

  <div id="xtk_renderer">
  </div>
  <div id="xtk_help">
    <p>Usage: Left-click and drag to rotate the view, middle-click to pan, and
       right-click (or scroll) to zoom in and out.</p>
  </div>
  <script src="/theme/js/xtk.js"></script>
  <script type="text/javascript">
    function load_xtk_renderer() {
      var r = new X.renderer3D();
      r.container = 'xtk_renderer';
      r.init();
      r.camera.up = [0, 0, 1];
      r.camera.position = [0, 50, -100];
      // create a new X.fibers
      var fibers = new X.fibers();
      // .. associate the TrackVis .TRK file
      fibers.file = '/data/wm_streamlines.trk';
      // .. add the fibers
      r.add(fibers);
      r.render();
    };
    load_xtk_renderer();
  </script>

  <h2>NeuroVault Goodness</h2>
  <p>TODO: write intro; attribute NeuroVault appropriately</p>

  <div id="nv_picker">
    <p><input type="radio" name="neurovault_ds" id="nv_308" value="308" checked>
       <label for="nv_308">High-resolution 7-Tesla fMRI data on the perception of
         musical genres – an extension to the studyforrest dataset.</label>
    </p>

    <p><input type="radio" name="neurovault_ds" id="nv_1065" value="1065">
       <label for="nv_1065">A StudyForrest extension, simultaneous fMRI and eye
         gaze recordings during naturalistic stimulation (poster).</label>
    </p>

    <p><input type="radio" name="neurovault_ds" id="nv_5502" value="5502">
       <label for="nv_5502">Is The PPA a Visual Area? BOLD responses to incidental
         spatial cues in naturalistic stimulation (poster).</label>
    </p>

    <p><input type="radio" name="neurovault_ds" id="nv_6075" value="6075">
       <label for="nv_6075">Individual face- and house-related eye movement
         patterns distinctively activate FFA and PPA.</label>
    </p>

    <p><input type="radio" name="neurovault_ds" id="nv_8889" value="8889">
       <label for="nv_8889">Processing of visual and non-visual naturalistic
         spatial information in the "parahippocampal place area" (paper in
         review).</label>
    </p>
  </div>

  <div id="nv_viewers">
    <iframe id="nv_viewer_308" data-show='true' src="https://neurovault.org/media/images/308/pycortex_all/index.html"
            frameborder="0" width="100%" height="600"></iframe>
    <iframe id="nv_viewer_1065" data-src="https://neurovault.org/media/images/1065/pycortex_all/index.html"
            frameborder="0" width="100%" height="600" loading="lazy"></iframe>
    <iframe id="nv_viewer_5502" data-src="https://neurovault.org/media/images/5502/pycortex_all/index.html"
            frameborder="0" width="100%" height="600" loading="lazy"></iframe>
    <iframe id="nv_viewer_6075" data-src="https://neurovault.org/media/images/6075/pycortex_all/index.html"
            frameborder="0" width="100%" height="600" loading="lazy"></iframe>
    <iframe id="nv_viewer_8889" data-src="https://neurovault.org/media/images/8889/pycortex_all/index.html"
            frameborder="0" width="100%" height="600" loading="lazy"></iframe>
  </div>

  <script>
  var nv_viewers = document.getElementById('nv_viewers').querySelectorAll('iframe');
  var nv_pickers = document.getElementById('nv_picker').querySelectorAll('input');

  // attach listener to radio buttons
  for (var i=0; i < nv_pickers.length; i++) {
    nv_pickers[i].addEventListener('click', switchViewer, false);
  }

  function switchViewer() {
    nv_num = this.value;

    for (var i=0; i < nv_viewers.length; i++) {
      var nv = nv_viewers[i];
      // if it's the viewer we want to show
      if (nv.id == 'nv_viewer_' + nv_num) {
        // the iframe contents are way too heavy to all load upfront.
        // Check if it has already been loaded.
        if (nv.src.indexOf('http') == -1) {
          nv.src = nv.dataset.src;
        }
        nv.dataset.show = 'true';
      } else {
        nv.dataset.show = 'false';
      }
    }
  }
  </script>
</body>
</html>
